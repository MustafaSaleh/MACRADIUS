html
    head 
        title Radius Mac Address 
        link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css", rel="stylesheet", integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC", crossorigin="anonymous" )
        link(href="https://cdn.datatables.net/1.10.25/css/dataTables.bootstrap5.min.css", rel="stylesheet")
      
    body 
        div(class="container-fluid")
            nav.navbar.navbar-light.bg-light
                a( href="#", class="navbar-brand mb-0 h1") Radius Mac Address
                a(href="/log" class="nav-link") Log
                a(href="/log/del" class="nav-link") Clear Log
                a(href="/logout") Logout
           
            div(class="card")
                div(class="card-body")
                        h5(class="card-title ") Add Client
                        form(action="add", method="post", id="newClient")
                            div(class="row")
                                div(class="col")
                                    input(type="text", name="name", class="form-control", placeholder="Name", required="required") 
                                div(class="col")  
                                    input(type="text", name="mac", class="form-control",placeholder="Mac", minlength="12" ,maxlength="12", required="required") 
                                button(type="submit", class="col") Submit

            h4 Clients
            table(class="table table-striped", id="clientsTable")
                thead
                    tr
                        th ID
                        th Name
                        th Mac
                        th Visits 
                        th Last Seen 
                each client in clients
                    tr
                        td 
                            a(href=`del/${client.rowid}`, class="delClient")=client.rowid
                        td= client.name
                        td= client.mac
                        td= client.visits 
                        td= client.lastseen


    script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js")
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js", integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM", crossorigin="anonymous")
    script(src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js")
    script(src="https://cdn.datatables.net/1.10.25/js/dataTables.bootstrap5.min.js")

    script.
        $(document).ready(function(){
            $("#clientsTable").DataTable();

            $( "#newClient" ).submit(function( event ) {
               $.post( "/add",  $( "#newClient" ).serialize() )
                .done(function( data ) {
                    alert( "Data Loaded: " + data );
                });
                event.preventDefault();
            });
            $(".delClient").click(function(){
                 event.preventDefault();
                $.get( $(this).attr('href'), function( data ) {
                     alert(data)
            });
            })
           
            
        })

        
